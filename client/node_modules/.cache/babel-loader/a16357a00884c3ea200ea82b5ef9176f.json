{"ast":null,"code":"import _defineProperty from \"/home/oyewoas/Documents/Software Dev Learning/With Companies/LevelUp Academy/Software Dev Projects/github/levelup-timeoffapp/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/oyewoas/Documents/Software Dev Learning/With Companies/LevelUp Academy/Software Dev Projects/github/levelup-timeoffapp/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/oyewoas/Documents/Software Dev Learning/With Companies/LevelUp Academy/Software Dev Projects/github/levelup-timeoffapp/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/oyewoas/Documents/Software Dev Learning/With Companies/LevelUp Academy/Software Dev Projects/github/levelup-timeoffapp/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/oyewoas/Documents/Software Dev Learning/With Companies/LevelUp Academy/Software Dev Projects/github/levelup-timeoffapp/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/oyewoas/Documents/Software Dev Learning/With Companies/LevelUp Academy/Software Dev Projects/github/levelup-timeoffapp/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/oyewoas/Documents/Software Dev Learning/With Companies/LevelUp Academy/Software Dev Projects/github/levelup-timeoffapp/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/oyewoas/Documents/Software Dev Learning/With Companies/LevelUp Academy/Software Dev Projects/github/levelup-timeoffapp/src/components/AbsenceForm/AbsenceForm.js\";\nimport React, { Component } from 'react';\nimport FormValidator from '../FormValidator/FormValidator';\nimport DashBoardNavBar from '../DashBoardNav/DashBoardNavBar';\nimport profile from \"../../assets/img/undraw_profile_pic_ic5t.svg\";\nimport './AbsenceForm.css';\n\nvar AbsenceForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AbsenceForm, _Component);\n\n  function AbsenceForm(props) {\n    var _this;\n\n    _classCallCheck(this, AbsenceForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AbsenceForm).call(this, props));\n\n    _this.passwordMatch = function (confirmation, state) {\n      return state.password === confirmation;\n    };\n\n    _this.handleInputChange = function (event) {\n      event.preventDefault();\n\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.GetDays = function () {\n      var toDate = new Date(document.getElementById(\"to\").value);\n      var fromDate = new Date(document.getElementById(\"from\").value);\n      return parseInt((toDate - fromDate) / (24 * 3600 * 1000));\n    };\n\n    _this.cal = function () {\n      if (document.getElementById(\"to\")) {\n        // document.getElementById(\"duration\").value= this.GetDays();\n        _this.setState({\n          duration: _this.GetDays()\n        });\n      }\n    };\n\n    _this.cancelFormSubmit = function (event) {\n      var _this$setState2;\n\n      event.preventDefault();\n\n      var refreshPage = function refreshPage(timeoutPeriod) {\n        var refresh = \"location.reload(true)\";\n        setTimeout(refresh, timeoutPeriod);\n      };\n\n      _this.setState((_this$setState2 = {}, _defineProperty(_this$setState2, event.target.value, ''), _defineProperty(_this$setState2, \"successmessage\", 'New Absence Creation cancelled'), _defineProperty(_this$setState2, \"errormessage\", ''), _this$setState2));\n\n      document.getElementById(\"form\").reset();\n      refreshPage(5000);\n    };\n\n    _this.handleFormSubmit = function (event) {\n      event.preventDefault();\n\n      var refreshPage = function refreshPage(timeoutPeriod) {\n        var refresh = \"location.reload(true)\";\n        setTimeout(refresh, timeoutPeriod);\n      };\n\n      var validation = _this.validator.validate(_this.state);\n\n      _this.setState({\n        validation: validation\n      });\n\n      _this.submitted = true;\n\n      if (validation.isValid) {\n        // handle actual form submission here\n        _this.setState({\n          successmessage: 'New Absence Created successfully',\n          errormessage: ''\n        });\n\n        refreshPage(5000);\n        alert('Registered successfully');\n      } else {\n        _this.setState({\n          errormessage: 'Cannot Create New Response Make sure all fields are correctly filled',\n          successmessage: ''\n        }); // alert('Cannot Create User Make sure all fields are correctly filled')\n\n      }\n    };\n\n    _this.handleInputChange = _this.handleInputChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleFormSubmit = _this.handleFormSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.cancelFormSubmit = _this.cancelFormSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.validator = new FormValidator([{\n      field: 'type',\n      method: 'isEmpty',\n      validWhen: false,\n      message: 'Type Of Leave is required'\n    }, {\n      field: 'from',\n      method: 'isEmpty',\n      validWhen: false,\n      message: 'Desired Start Date is required'\n    }, {\n      field: 'to',\n      method: 'isEmpty',\n      validWhen: false,\n      message: 'Desired End Date is required'\n    }, {\n      field: 'duration',\n      method: 'isEmpty',\n      validWhen: false,\n      message: 'Total Duration is required'\n    }, {\n      field: 'reason',\n      method: 'isEmpty',\n      validWhen: false,\n      message: 'Reason For Absence Request is required'\n    }]);\n    _this.state = {\n      data: {\n        firstname: 'Ayooluwa',\n        profilepic: profile,\n        timeofftypes: ['Holiday', 'Maternity Leave', 'Paternity Leave', 'Sick Leave (Up to 10 Days)']\n      },\n      from: '',\n      type: '',\n      to: '',\n      duration: '',\n      reason: '',\n      validation: _this.validator.valid(),\n      successmessage: '',\n      errormessage: ''\n    };\n    _this.submitted = false;\n    return _this;\n  }\n\n  _createClass(AbsenceForm, [{\n    key: \"render\",\n    value: function render() {\n      var timeOffTypes = this.state.data.timeofftypes;\n      var offTypes = timeOffTypes.map(function (type, index) {\n        return React.createElement(\"option\", {\n          value: type,\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, \" \", type, \" \");\n      });\n      var validation = this.submitted ? // if the form has been submitted at least once\n      this.validator.validate(this.state) : // then check validity every time we render\n      this.state.validation;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(DashBoardNavBar, {\n        data: this.state.data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-md-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"err-success text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, this.state.errormessage), React.createElement(\"h2\", {\n        className: \"err-success text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, this.state.successmessage), React.createElement(\"form\", {\n        id: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \"form-header text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \"Create New Absence\")), React.createElement(\"div\", {\n        className: \"form-group \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"type\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \" Type Of Leave\"), React.createElement(\"select\", {\n        onChange: this.handleInputChange,\n        id: \"type\",\n        name: \"type\",\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"Choose Leave Type\"), offTypes), React.createElement(\"span\", {\n        className: \"help-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, validation.type.message)), React.createElement(\"div\", {\n        className: \"form-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"from\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \"From\"), React.createElement(\"input\", {\n        onChange: this.handleInputChange,\n        type: \"date\",\n        name: \"from\",\n        className: \"form-control\",\n        id: \"from\",\n        placeholder: \"From\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"help-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, validation.from.message)), React.createElement(\"div\", {\n        className: \"form-group col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"to\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, \"To\"), React.createElement(\"input\", {\n        onChange: this.cal,\n        type: \"date\",\n        name: \"to\",\n        className: \"form-control\",\n        id: \"to\",\n        placeholder: \"To\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"help-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, validation.to.message)), React.createElement(\"div\", {\n        className: \"form-group  col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"duration\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, \"Duration\"), React.createElement(\"input\", {\n        onChange: this.cal,\n        type: \"text\",\n        name: \"duration\",\n        className: \" form-control\",\n        id: \"duration\",\n        placeholder: \"Duration\",\n        disabled: true,\n        readOnly: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"help-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, validation.duration.message))), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"reason\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"Reason For Leave\"), React.createElement(\"textarea\", {\n        onChange: this.handleInputChange,\n        rows: \"6\",\n        type: \"date\",\n        name: \"reason\",\n        className: \"form-control\",\n        id: \"reason\",\n        placeholder: \"Reason For Leave\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"help-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, validation.reason.message)), React.createElement(\"button\", {\n        onClick: this.handleFormSubmit,\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, \"CREATE\"), React.createElement(\"button\", {\n        onClick: this.cancelFormSubmit,\n        type: \"submit\",\n        className: \"btn btn-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, \"CANCEL\")))), React.createElement(\"div\", {\n        className: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return AbsenceForm;\n}(Component);\n\nexport default AbsenceForm;","map":{"version":3,"sources":["/home/oyewoas/Documents/Software Dev Learning/With Companies/LevelUp Academy/Software Dev Projects/github/levelup-timeoffapp/src/components/AbsenceForm/AbsenceForm.js"],"names":["React","Component","FormValidator","DashBoardNavBar","AbsenceForm","props","passwordMatch","confirmation","state","password","handleInputChange","event","preventDefault","setState","target","name","value","GetDays","toDate","Date","document","getElementById","fromDate","parseInt","cal","duration","cancelFormSubmit","refreshPage","timeoutPeriod","refresh","setTimeout","reset","handleFormSubmit","validation","validator","validate","submitted","isValid","successmessage","errormessage","alert","bind","field","method","validWhen","message","data","firstname","profilepic","profile","timeofftypes","from","type","to","reason","valid","timeOffTypes","offTypes","map","index"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport FormValidator from '../FormValidator/FormValidator'\n\nimport DashBoardNavBar from '../DashBoardNav/DashBoardNavBar'\nimport profile from '../../assets/img/undraw_profile_pic_ic5t.svg'\nimport  './AbsenceForm.css'\n\n\nclass AbsenceForm extends Component {\n  constructor(props) {\n    super(props);\n    this.handleInputChange = this.handleInputChange.bind(this);\n        this.handleFormSubmit = this.handleFormSubmit.bind(this);\n        this.cancelFormSubmit = this.cancelFormSubmit.bind(this);\n\n        this.validator = new FormValidator([\n            { \n                field: 'type', \n                method: 'isEmpty', \n                validWhen: false, \n                message: 'Type Of Leave is required' \n              },\n              \n              { \n                field: 'from', \n                method: 'isEmpty',\n                validWhen: false, \n                message: 'Desired Start Date is required' \n              },\n              { \n                field: 'to', \n                method: 'isEmpty',\n                validWhen: false, \n                message: 'Desired End Date is required' \n              },\n              { \n                field: 'duration', \n                method: 'isEmpty',\n                validWhen: false, \n                message: 'Total Duration is required' \n              },\n              { \n                field: 'reason', \n                method: 'isEmpty', \n                validWhen: false, \n                message: 'Reason For Absence Request is required'\n              },\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\n          ]);\n          \n          this.state = {\n            data: {\n              firstname: 'Ayooluwa',\n              profilepic: profile,\n              timeofftypes: [\n                'Holiday', \n                'Maternity Leave', \n                'Paternity Leave', \n                'Sick Leave (Up to 10 Days)'\n            ],\n            },\n            from:'',\n            type:'',\n            to: '',\n            duration: '',\n            reason: '',\n\t\t\t\t\t\tvalidation: this.validator.valid(),\n\t\t\t\t\t\tsuccessmessage: '',\n\t\t\t\t\t\terrormessage: '',\n          }\n      \n          this.submitted = false;\n\n\n  \n\t\t}\n\t\t\n\t\tpasswordMatch = (confirmation, state) => (state.password === confirmation)\n\n\t\thandleInputChange = event => {\n\t\t\tevent.preventDefault();\n\t\n\t\t\tthis.setState({\n\t\t\t\t[event.target.name]: event.target.value,\n      });\n      \n\n    }\n    GetDays = () => {\n\t\t\tconst toDate = new Date(document.getElementById(\"to\").value);\n\t\t\tvar fromDate = new Date(document.getElementById(\"from\").value);\n\t\t\treturn parseInt((toDate - fromDate) / (24 * 3600 * 1000));\n\t}\n\ncal = () => {\nif(document.getElementById(\"to\")){\n  // document.getElementById(\"duration\").value= this.GetDays();\n  this.setState({duration: this.GetDays()})\n\t}  \n} \n    cancelFormSubmit = event => {\n\t\t\tevent.preventDefault();\n      const refreshPage = (timeoutPeriod) => {\n        let refresh = \"location.reload(true)\";\n        setTimeout( refresh ,timeoutPeriod);\n      }\n\n\t\t\tthis.setState({\n\t\t\t\t[event.target.value]: '', successmessage: 'New Absence Creation cancelled', errormessage: ''\n      });\n\n      document.getElementById(\"form\").reset();\n      refreshPage(5000);\n\n\t\t}\n\n\n\n    handleFormSubmit = event => {\n        event.preventDefault();\n\t\t\t\tconst refreshPage = (timeoutPeriod) => {\n\t\t\t\t\tlet refresh = \"location.reload(true)\";\n\t\t\t\t\tsetTimeout( refresh ,timeoutPeriod);\n\t\t\t  }\n        const validation = this.validator.validate(this.state);\n        this.setState({ validation });\n        this.submitted = true;\n    \n        if (validation.isValid) {\n\t\t\t\t\t// handle actual form submission here\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tsuccessmessage: 'New Absence Created successfully',errormessage: ''\n\t\t\t\t\t})\n\t\t\t\t\trefreshPage(5000);\n\t\t\t\t\talert('Registered successfully')\n\t\t\t\t\t\n        } else {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\terrormessage: 'Cannot Create New Response Make sure all fields are correctly filled', successmessage: ''\n\t\t\t\t\t})\n\t\t\t\t\t// alert('Cannot Create User Make sure all fields are correctly filled')\n        }\n        \n  }\n  render() {\n    \n    const timeOffTypes = this.state.data.timeofftypes;\n        let offTypes = timeOffTypes.map( (type, index) => \n            <option value={type} key={index}> {type} </option>\n\n        );\n        let validation = this.submitted ?                         // if the form has been submitted at least once\n        this.validator.validate(this.state) :   // then check validity every time we render\n        this.state.validation     \n    return (\n      <div>\n        <DashBoardNavBar data={this.state.data} />\n        <div className=\"container-fluid\">\n          <div className=\"row\">\n            <div className=\"col-md-2\"></div>\n            <div className=\"col-md-8\">\n              <div className=\"form\">\n              <h2 className=\"err-success text-center\">{this.state.errormessage}</h2>\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"err-success text-center\">{this.state.successmessage}</h2>\n\n                <form id=\"form\">\n                  <div className=\"text-center\">\n                    <h5 className=\"form-header text-center\">Create New Absence</h5>\n\n                  </div>\n                    <div className=\"form-group \">\n                      <label htmlFor=\"type\"> Type Of Leave</label>\n                      <select onChange={this.handleInputChange} id=\"type\" name=\"type\" className=\"form-control\">\n                        <option value>Choose Leave Type</option>\n                        {offTypes}\n                      </select>\n                      <span className=\"help-block\">{validation.type.message}</span>\n                    \n                    \n                  </div>\n                  <div className=\"form-row\">\n                  <div className=\"form-group col-md-4\">\n                    <label htmlFor=\"from\">From</label>\n                    <input onChange={this.handleInputChange} type=\"date\" name=\"from\" className=\"form-control\" id=\"from\" placeholder=\"From\" />\n                    <span className=\"help-block\">{validation.from.message}</span>\n                  </div>\n                  <div className=\"form-group col-md-4\">\n                    <label htmlFor=\"to\">To</label>\n                    <input onChange={this.cal} type=\"date\" name=\"to\" className=\"form-control\" id=\"to\" placeholder=\"To\" />\n                    <span className=\"help-block\">{validation.to.message}</span>\n                  </div>\n                  <div className=\"form-group  col-md-4\">\n                    <label htmlFor=\"duration\">Duration</label>\n                    <input onChange={this.cal}  type=\"text\" name=\"duration\" className=\" form-control\"  id=\"duration\" placeholder=\"Duration\" disabled readOnly/>\n                    <span className=\"help-block\">{validation.duration.message}</span>\n                  </div>\n                  </div>\n                  <div className=\"form-group\">\n                    <label htmlFor=\"reason\">Reason For Leave</label>\n                    <textarea onChange={this.handleInputChange} rows=\"6\" type=\"date\" name=\"reason\" className=\"form-control\" id=\"reason\" placeholder=\"Reason For Leave\" />\n                    <span className=\"help-block\">{validation.reason.message}</span>\n                  </div>\n                  \n                  \n                  <button onClick={this.handleFormSubmit} type=\"submit\" className=\"btn btn-primary\">CREATE</button>\n                  <button onClick={this.cancelFormSubmit} type=\"submit\" className=\"btn btn-info\">CANCEL</button>\n\n                </form>\n\n\n\n\n\n\n\n              </div>\n            </div>\n            <div className=\"col-md-2\"></div>\n\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default AbsenceForm;"]},"metadata":{},"sourceType":"module"}